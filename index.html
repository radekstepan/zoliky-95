<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>≈Ωol√≠ky 95</title>
</head>
<body>

<div class="window">
    <div class="title-bar">
        <div style="display:flex; align-items:center;">
            <span class="title-icon">üÉè</span>
            <span>≈Ωol√≠ky for Windows</span>
        </div>
        <div class="window-controls">
            <button>_</button>
            <button>‚ñ°</button>
            <button onclick="location.reload()">X</button>
        </div>
    </div>
    
    <div class="menu-bar">
        <div class="menu-item" onclick="window.game.init()">New Game</div>
        <div class="menu-item" id="menu-difficulty" onclick="window.game.toggleDifficultyMenu()">Options</div>
        <div class="menu-item" id="menu-undo">Undo</div>
        <div class="menu-item" onclick="window.game.showHelp()">Help</div>
    </div>

    <!-- Difficulty Submenu -->
    <div id="difficulty-menu" class="window" style="display:none; position:absolute; top:60px; left:80px; width:160px; height:auto; z-index:200;">
        <div id="menu-diff-easy" class="menu-item" onclick="window.game.setDifficulty('easy')">&nbsp;&nbsp;&nbsp;Easy (Novice)</div>
        <div id="menu-diff-medium" class="menu-item" onclick="window.game.setDifficulty('medium')">&nbsp;&nbsp;&nbsp;Medium (Casual)</div>
        <div id="menu-diff-hard" class="menu-item" onclick="window.game.setDifficulty('hard')">&nbsp;&nbsp;&nbsp;Hard (Pro)</div>
    </div>

    <div class="game-area">
        <!-- Decks -->
        <div class="deck-area">
            <div style="position: relative;">
                <div class="pile-label">Stock</div>
                <!-- Bottom card will be injected here by JS -->
                <div id="stock-pile" class="card card-back" onclick="window.game.humanDraw('stock')"></div>
            </div>
            <div>
                <div class="pile-label">Discard</div>
                <div id="discard-pile" class="card" onclick="window.game.humanDraw('discard')" style="opacity: 0.5;"></div>
            </div>
        </div>

        <!-- Opponent -->
        <div class="opponent-zone">
            <div id="cpu-hand" class="hand"></div>
        </div>

        <!-- Table/Melds -->
        <div id="table-zone" class="table-zone"></div>

        <!-- Player -->
        <div class="player-zone">
            <div class="actions-bar">
                <button id="btn-meld" class="win-btn" onclick="window.game.humanMeld()" disabled>Meld Selected</button>
                <button id="btn-discard" class="win-btn" onclick="window.game.humanDiscard()" disabled>Discard Selected</button>
            </div>
            <div id="player-hand" class="hand"></div>
        </div>
    </div>

    <div class="status-bar">
        <div class="status-panel status-msg" id="status-text">Welcome to ≈Ωol√≠ky 95.</div>
        <div class="status-panel status-score" id="score-text">Rd: 1 | Pts: 0</div>
    </div>
</div>

<div id="modal" class="modal-overlay">
    <div class="modal-window">
        <div class="title-bar">
            <span>Game Over</span>
            <button onclick="window.closeModal()">X</button>
        </div>
        <div class="modal-body" id="modal-msg">You Win!</div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.closeModal(); window.game.init();">Play Again</button>
        </div>
    </div>
</div>

<div id="alert-modal" class="modal-overlay">
    <div class="modal-window alert-window">
        <div class="title-bar">
            <span id="alert-title">Alert</span>
            <button onclick="window.closeAlert()">X</button>
        </div>
        <div class="alert-body">
            <div id="alert-icon" class="alert-icon">‚ö†Ô∏è</div>
            <div id="alert-msg" class="alert-content"></div>
        </div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.closeAlert()">OK</button>
        </div>
    </div>
</div>

<!-- Debug Swap Modal -->
<div id="debug-modal" class="modal-overlay">
    <div class="modal-window" style="width: 250px;">
        <div class="title-bar">
            <span>Debug Swap</span>
            <button onclick="window.game.closeDebugModal()">X</button>
        </div>
        <div class="modal-body" style="text-align: left; padding: 20px;">
            
            <div style="margin-bottom: 15px;">
                <label>Rank:</label>
                <div class="win-combo" id="combo-rank" data-value="2">
                    <div class="win-combo-trigger" onclick="window.game.toggleDropdown('rank')">
                        <span id="combo-rank-text">2</span>
                        <div class="win-combo-arrow">‚ñº</div>
                    </div>
                    <div id="combo-rank-list" class="window win-combo-popup" style="display:none;">
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '2', '2')">2</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '3', '3')">3</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '4', '4')">4</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '5', '5')">5</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '6', '6')">6</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '7', '7')">7</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '8', '8')">8</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '9', '9')">9</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', '10', '10')">10</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', 'J', 'Jack')">Jack</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', 'Q', 'Queen')">Queen</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', 'K', 'King')">King</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', 'A', 'Ace')">Ace</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('rank', 'Joker', 'Joker')">Joker</div>
                    </div>
                </div>
            </div>

            <div>
                <label>Suit:</label>
                <div class="win-combo" id="combo-suit" data-value="‚ô•">
                    <div class="win-combo-trigger" onclick="window.game.toggleDropdown('suit')">
                        <span id="combo-suit-text">Hearts (‚ô•)</span>
                        <div class="win-combo-arrow">‚ñº</div>
                    </div>
                    <div id="combo-suit-list" class="window win-combo-popup" style="display:none;">
                        <div class="menu-item" onclick="window.game.selectDropdownOption('suit', '‚ô•', 'Hearts (‚ô•)')">Hearts (‚ô•)</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('suit', '‚ô¶', 'Diamonds (‚ô¶)')">Diamonds (‚ô¶)</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('suit', '‚ô£', 'Clubs (‚ô£)')">Clubs (‚ô£)</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('suit', '‚ô†', 'Spades (‚ô†)')">Spades (‚ô†)</div>
                        <div class="menu-item" onclick="window.game.selectDropdownOption('suit', 'JK', 'Joker (JK)')">Joker (JK)</div>
                    </div>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.game.submitDebugSwap()">Swap</button>
            <button class="win-btn" onclick="window.game.closeDebugModal()">Cancel</button>
        </div>
    </div>
</div>

<script type="module" src="/src/main.ts"></script>
</body>
</html>
