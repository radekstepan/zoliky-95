<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>≈Ωol√≠ky 95</title>
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>

<div class="window">
    <div class="title-bar">
        <div style="display:flex; align-items:center;">
            <span class="title-icon">üÉè</span>
            <span>≈Ωol√≠ky for Windows</span>
        </div>
        <div class="window-controls">
            <button>_</button>
            <button>‚ñ°</button>
            <button onclick="location.reload()">X</button>
        </div>
    </div>
    
    <div class="menu-bar">
        <div class="menu-item" onclick="window.game.init()">New Game</div>
        <div class="menu-item" onclick="alert('≈Ωol√≠ky (Rummy) Rules:\n1. Round 3+: Meld sets (3+ equal ranks) or runs (3+ seq same suit).\n2. Opening: Total melds must be 36+ points.\n3. Discard Draw: Must be used in meld immediately.\n4. Discard to end turn.\n5. Joker replaces any card.')">Help</div>
    </div>

    <div class="game-area">
        <!-- Decks -->
        <div class="deck-area">
            <div>
                <div id="stock-pile" class="card card-back" onclick="window.game.humanDraw('stock')"></div>
                <div class="pile-label">Stock</div>
            </div>
            <div>
                <div id="discard-pile" class="card" onclick="window.game.humanDraw('discard')" style="opacity: 0.5;"></div>
                <div class="pile-label">Discard</div>
            </div>
        </div>

        <!-- Opponent -->
        <div class="opponent-zone">
            <div id="cpu-hand" class="hand">
                <!-- Cards generated by JS -->
            </div>
        </div>

        <!-- Table/Melds -->
        <div id="table-zone" class="table-zone">
            <!-- Melds go here -->
        </div>

        <!-- Player -->
        <div class="player-zone">
            <div class="actions-bar">
                <button id="btn-meld" class="win-btn" onclick="window.game.humanMeld()" disabled>Meld Selected</button>
                <button id="btn-cancel" class="win-btn danger" onclick="window.game.cancelMelds()" style="display:none">Cancel Melds</button>
                <button id="btn-discard" class="win-btn" onclick="window.game.humanDiscard()" disabled>Discard Selected</button>
            </div>
            <div id="player-hand" class="hand">
                <!-- Cards generated by JS -->
            </div>
        </div>
    </div>

    <div class="status-bar">
        <div class="status-panel status-msg" id="status-text">Welcome to ≈Ωol√≠ky 95. Press New Game to Start.</div>
        <div class="status-panel status-score" id="score-text">Rd: 1 | Pts: 0</div>
    </div>
</div>

<!-- Message Modal -->
<div id="modal" class="modal-overlay">
    <div class="modal-window">
        <div class="title-bar">
            <span>Game Over</span>
            <button onclick="window.closeModal()">X</button>
        </div>
        <div class="modal-body" id="modal-msg">
            You Win!
        </div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.closeModal(); window.game.init();">Play Again</button>
        </div>
    </div>
</div>

<script type="module" src="/src/main.js"></script>
</body>
</html>
