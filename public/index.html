<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Žolíky 95</title>
</head>
<body>

<div class="window">
    <div class="title-bar">
        <div style="display:flex; align-items:center;">
            <span class="title-icon">��</span>
            <span>Žolíky for Windows</span>
        </div>
        <div class="window-controls">
            <button>_</button>
            <button>□</button>
            <button onclick="location.reload()">X</button>
        </div>
    </div>
    
    <div class="menu-bar">
        <div class="menu-item" onclick="window.game.init()">New Game</div>
        <div class="menu-item" onclick="window.game.showHelp()">Help</div>
    </div>

    <div class="game-area">
        <!-- Decks -->
        <div class="deck-area">
            <div style="position: relative;">
                <div id="stock-pile" class="card card-back" onclick="window.game.humanDraw('stock')"></div>
                <div class="pile-label">Stock</div>
            </div>
            <div>
                <div id="discard-pile" class="card" onclick="window.game.humanDraw('discard')" style="opacity: 0.5;"></div>
                <div class="pile-label">Discard</div>
            </div>
        </div>

        <!-- Opponent -->
        <div class="opponent-zone">
            <div id="cpu-hand" class="hand"></div>
        </div>

        <!-- Table/Melds -->
        <div id="table-zone" class="table-zone"></div>

        <!-- Player -->
        <div class="player-zone">
            <div class="actions-bar">
                <button id="btn-meld" class="win-btn" onclick="window.game.humanMeld()" disabled>Meld Selected</button>
                <button id="btn-cancel" class="win-btn danger" onclick="window.game.cancelMelds()" style="display:none">Cancel Melds</button>
                <button id="btn-discard" class="win-btn" onclick="window.game.humanDiscard()" disabled>Discard Selected</button>
            </div>
            <div id="player-hand" class="hand"></div>
        </div>
    </div>

    <div class="status-bar">
        <div class="status-panel status-msg" id="status-text">Welcome to Žolíky 95.</div>
        <div class="status-panel status-score" id="score-text">Rd: 1 | Pts: 0</div>
    </div>
</div>

<!-- Game Over Modal -->
<div id="modal" class="modal-overlay">
    <div class="modal-window">
        <div class="title-bar">
            <span>Game Over</span>
            <button onclick="window.closeModal()">X</button>
        </div>
        <div class="modal-body" id="modal-msg">You Win!</div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.closeModal(); window.game.init();">Play Again</button>
        </div>
    </div>
</div>

<!-- System Alert Modal -->
<div id="alert-modal" class="modal-overlay" style="z-index: 200;">
    <div class="modal-window alert-window">
        <div class="title-bar">
            <span id="alert-title">Message</span>
            <button onclick="window.closeAlert()">X</button>
        </div>
        <div class="alert-body">
            <div id="alert-icon" class="alert-icon">⚠️</div>
            <div id="alert-msg" class="alert-content">Alert text.</div>
        </div>
        <div class="modal-footer">
            <button class="win-btn" onclick="window.closeAlert()">OK</button>
        </div>
    </div>
</div>

<script type="module" src="/src/main.ts"></script>
</body>
</html>
